{"ast":null,"code":"import _objectSpread from\"/home/ivan/Desktop/React/React.ucenje/File2/my-file2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/ivan/Desktop/React/React.ucenje/File2/my-file2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Fragment}from\"react\";import Button from\"../component/Button\";import Kontakt from\"./Kontakt\";import\"./Usluge.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var usluge=[{id:0,value:\"Zamjena ulja i filtera (500 kn)\",isChecked:false,price:500},{id:1,value:\"Promjena pakni (450 kn)\",isChecked:false,price:450},{id:2,value:\"Promjena guma (100 kn)\",isChecked:false,price:100},{id:3,value:\"Servis klima uređaja (299 kn)\",isChecked:false,price:299},{id:4,value:\"Balansiranje guma (50 kn)\",isChecked:false,price:50},{id:5,value:\"Zamjena ulja u kočnicama (229 kn)\",isChecked:false,price:229}];var usluge2=[{id:0,value:\"\",isChecked:false,price:0}];var Usluge=function Usluge(props){var _useState=useState(usluge),_useState2=_slicedToArray(_useState,2),checkusluge=_useState2[0],updateUsluge=_useState2[1];//izmjena usluga\nvar _useState3=useState(usluge2),_useState4=_slicedToArray(_useState3,2),checkresult=_useState4[0],updateResult=_useState4[1];//izmjena usluga\nvar _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),kuponvalue=_useState6[0],inputKupon=_useState6[1];//izmjena kupona vrijednost\nvar _useState7=useState(),_useState8=_slicedToArray(_useState7,2),newprice=_useState8[0],setNewPrice=_useState8[1];//izmjena kupona\nvar _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),setdalje=_useState10[0],setShowDalje=_useState10[1];//za dalje button\nvar _useState11=useState(\"Unesite kupon\"),_useState12=_slicedToArray(_useState11,2),placeholder=_useState12[0],setPlaceholder=_useState12[1];//placeholder\nvar _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),vazecikupon=_useState14[0],setVazecikupon=_useState14[1];//nova cijena\nvar _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),show=_useState16[0],setShow=_useState16[1];// izmjena odabira cijene u input\nvar _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),kupon=_useState18[0],setKupon=_useState18[1];//izmjena kupona\n// promjena charakters array\nvar setInput=function setInput(i,value){updateUsluge(checkusluge.map(function(us){return us.id===i?_objectSpread(_objectSpread({},us),{},{isChecked:value}):_objectSpread({},us);}));};//mapiranje liste prikaza\nvar listausluga=checkusluge.map(function(item,i){return/*#__PURE__*/_jsxs(\"label\",{className:\"labelusluge\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:item.value,checked:item.isChecked,onChange:function onChange(e){return setInput(item.id,e.target.checked);}}),item.value]},i);});useEffect(function(){//\nupdateResult(checkusluge.map(function(i){return i.isChecked===true?_objectSpread({},i):{price:0};}));var result=checkusluge.every(function(i){return i.isChecked===false;});if(result===false){setShowDalje(true);}else{setShowDalje(false);}},[checkusluge]);var price=checkresult.reduce(function(a,v){return a=a+v.price;},0).toFixed(2);//izracun postotka\nfunction percentage(num,per){return num/100*per;}//na pritisak izracuna postotka\nvar provjera=function provjera(){if(kuponvalue===\"Tokić123\"){var izracun=percentage(price,30);console.log(price-izracun);var kuca=price-izracun;setNewPrice(kuca);setVazecikupon(true);}else if(kuponvalue!==\"Tokić123\"){setPlaceholder(\"Kupon nije važeći\");setVazecikupon(false);}};// izmjena prilikom pritiska Dalje\nfunction daljeHandler(){setShow(false);if(setShowDalje===true){setShow(false);}}return/*#__PURE__*/_jsxs(Fragment,{children:[show&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"usluge\",children:listausluga}),/*#__PURE__*/_jsxs(\"div\",{className:\"uslugeprice\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"kuponinput\",onClick:function onClick(e){return setKupon(true);},children:\"Imam Kupon\"}),kupon&&/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return inputKupon(e.target.value);},placeholder:placeholder}),/*#__PURE__*/_jsx(Button,{onClick:provjera,children:\"Primjeni\"})]}),!vazecikupon&&/*#__PURE__*/_jsxs(\"h1\",{children:[\"Ukupno: \",price,\" kn\"]}),vazecikupon&&/*#__PURE__*/_jsxs(\"h1\",{children:[\"Cijena sa popustom : \",newprice,\" kn\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(Button,{onClick:props.nazadHandler,children:\"Nazad\"}),setdalje&&/*#__PURE__*/_jsx(Button,{onClick:daljeHandler,children:\"Dalje\"})]})]}),!show&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Kontakt,{setShow:setShow,price:price,pricepopust:newprice,checkresult:checkresult,auto:props.auto,closeModalHandler:props.closeModalHandler})})]});};export default Usluge;","map":{"version":3,"sources":["/home/ivan/Desktop/React/React.ucenje/File2/my-file2/src/Popup/Usluge.js"],"names":["React","useState","useEffect","Fragment","Button","Kontakt","usluge","id","value","isChecked","price","usluge2","Usluge","props","checkusluge","updateUsluge","checkresult","updateResult","kuponvalue","inputKupon","newprice","setNewPrice","setdalje","setShowDalje","placeholder","setPlaceholder","vazecikupon","setVazecikupon","show","setShow","kupon","setKupon","setInput","i","map","us","listausluga","item","e","target","checked","result","every","reduce","a","v","toFixed","percentage","num","per","provjera","izracun","console","log","kuca","daljeHandler","nazadHandler","auto","closeModalHandler"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from \"react\";\nimport Button from \"../component/Button\";\nimport Kontakt from \"./Kontakt\";\nimport \"./Usluge.css\";\n\nconst usluge = [\n  {\n    id: 0,\n    value: \"Zamjena ulja i filtera (500 kn)\",\n    isChecked: false,\n    price: 500,\n  },\n  { id: 1, value: \"Promjena pakni (450 kn)\", isChecked: false, price: 450 },\n  { id: 2, value: \"Promjena guma (100 kn)\", isChecked: false, price: 100 },\n  {\n    id: 3,\n    value: \"Servis klima uređaja (299 kn)\",\n    isChecked: false,\n    price: 299,\n  },\n  { id: 4, value: \"Balansiranje guma (50 kn)\", isChecked: false, price: 50 },\n  {\n    id: 5,\n    value: \"Zamjena ulja u kočnicama (229 kn)\",\n    isChecked: false,\n    price: 229,\n  },\n];\n\nconst usluge2 = [\n  {\n    id: 0,\n    value: \"\",\n    isChecked: false,\n    price: 0,\n  },\n];\n\nconst Usluge = (props) => {\n  const [checkusluge, updateUsluge] = useState(usluge); //izmjena usluga\n  const [checkresult, updateResult] = useState(usluge2); //izmjena usluga\n  const [kuponvalue, inputKupon] = useState(\"\"); //izmjena kupona vrijednost\n  const [newprice, setNewPrice] = useState(); //izmjena kupona\n  const [setdalje, setShowDalje] = useState(false); //za dalje button\n  const [placeholder, setPlaceholder] = useState(\"Unesite kupon\"); //placeholder\n  const [vazecikupon, setVazecikupon] = useState(false); //nova cijena\n  const [show, setShow] = useState(true); // izmjena odabira cijene u input\n  const [kupon, setKupon] = useState(false); //izmjena kupona\n\n  // promjena charakters array\n  const setInput = (i, value) => {\n    updateUsluge(\n      checkusluge.map((us) =>\n        us.id === i ? { ...us, isChecked: value } : { ...us }\n      )\n    );\n  };\n\n  //mapiranje liste prikaza\n  const listausluga = checkusluge.map((item, i) => {\n    return (\n      <label key={i} className=\"labelusluge\">\n        <input\n          type=\"checkbox\"\n          value={item.value}\n          checked={item.isChecked}\n          onChange={(e) => setInput(item.id, e.target.checked)}\n        />\n        {item.value}\n      </label>\n    );\n  });\n\n  useEffect(() => {\n    //\n    updateResult(\n      checkusluge.map((i) => (i.isChecked === true ? { ...i } : { price: 0 }))\n    );\n    \n    let result = checkusluge.every((i) => {\n        return i.isChecked === false;\n    });\n    if (result === false) {\n        setShowDalje(true);\n    } else {\n        setShowDalje(false);\n    }\n}, [checkusluge]);\nlet price = checkresult.reduce((a, v) => (a = a + v.price), 0).toFixed(2);\n\n  //izracun postotka\n  function percentage(num, per) {\n    return (num / 100) * per;\n  }\n\n  //na pritisak izracuna postotka\n  const provjera = () => {\n    if (kuponvalue === \"Tokić123\") {\n      let izracun = percentage(price, 30);\n      console.log(price - izracun);\n      let kuca = price - izracun;\n      setNewPrice(kuca);\n      setVazecikupon(true);\n    } else if (kuponvalue !== \"Tokić123\") {\n      setPlaceholder(\"Kupon nije važeći\");\n      setVazecikupon(false);\n    }\n  };\n\n  // izmjena prilikom pritiska Dalje\n  function daljeHandler() {\n    setShow(false);\n    if (setShowDalje === true) {\n      setShow(false);\n    }\n  }\n\n  return (\n    <Fragment>\n      {show && (\n        <div>\n          <div className=\"usluge\">{listausluga}</div>\n          <div className=\"uslugeprice\">\n            <h3 className=\"kuponinput\" onClick={(e) => setKupon(true)}>\n              Imam Kupon\n            </h3>\n            {kupon && (\n              <label>\n                <input\n                  type=\"text\"\n                  onChange={(e) => inputKupon(e.target.value)}\n                  placeholder={placeholder}\n                />\n                <Button onClick={provjera}>Primjeni</Button>\n              </label>\n            )}\n            {!vazecikupon && <h1>Ukupno: {price} kn</h1>}\n            {vazecikupon && <h1>Cijena sa popustom : {newprice} kn</h1>}\n          </div>\n          <div className=\"buttons\">\n            <Button onClick={props.nazadHandler}>Nazad</Button>\n            {setdalje && <Button onClick={daljeHandler}>Dalje</Button>}\n          </div>\n        </div>\n      )}\n      {!show && (\n        <div>\n          <Kontakt\n            setShow={setShow}\n            price={price}\n            pricepopust={newprice}\n            checkresult={checkresult}\n            auto={props.auto}\n            closeModalHandler={props.closeModalHandler}\n          />\n        </div>\n      )}\n    </Fragment>\n  );\n};\n\nexport default Usluge;\n"]},"metadata":{},"sourceType":"module"}